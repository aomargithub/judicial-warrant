<div>
        <div class="page-header">
                <h3>{{messages.INTERNAL_USERS}}</h3> 
              </div>
        <message-drtv close-callback="internalUserDrtvCtrl.closeMessage" 
        refetch-callback = "internalUserDrtvCtrl.refetch" 
        message="internalUserDrtvCtrl.message" 
        ng-if="internalUserDrtvCtrl.message" 
        edit-id="internalUserDrtvCtrl.editUser.id"
        class="message-bar" >
</message-drtv>
    <div class="btn-group btn-group-justified ">
        <form name="userForm"  novalidate>
            <div class="row">
            <div class="form-group col-md-6">
                <label for="arabicName" class="required">{{messages.label.arabicName}}</label>
                <input type="text" class="form-control" id="arabicName" name="arabicName" ng-model="internalUserDrtvCtrl.user.arabicName" placeholder={{messages.label.arabicNamePH}} required/>
                <span ng-show="userForm.arabicName.$touched && userForm.arabicName.$error.required" >
                    {{messages.label.required}}
                </span>
            </div>
            <div class="form-group col-md-6">
                <label for="englishName" class="required">{{messages.label.englishName}}</label>
                <input type="text" class="form-control" id="englishName" name="englishName" ng-model="internalUserDrtvCtrl.user.englishName" placeholder={{messages.label.englishNamePH}} required/>
                <span ng-show="userForm.englishName.$touched && userForm.englishName.$error.required" >
                    {{messages.label.required}}
                </span>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <label for="mobileNumber1" class="required">{{messages.label.mobileNumber1}}</label>
                <input type="text" class="form-control" id="mobileNumber1" name="mobileNumber1" ng-model="internalUserDrtvCtrl.user.mobileNumber1" ng-maxlength="8" ng-pattern="mobilePattern" placeholder={{messages.label.mobileNumberPH}} required/>
                <span ng-show="userForm.mobileNumber1.$touched && userForm.mobileNumber1.$error.required" >
                    {{messages.label.required}}
                </span>
                <span ng-show="userForm.mobileNumber1.$error.maxlength && userForm.mobileNumber1.$invalid" >
                        {{messages.label.mobileError}}
                                        </span>
            </div>
            <div class="form-group col-md-6">
                <label for="mobileNumber2" class="required">{{messages.label.mobileNumber2}}</label>
                <input type="text" class="form-control" id="mobileNumber2" name="mobileNumber2" ng-model="internalUserDrtvCtrl.user.mobileNumber2" ng-maxlength="8" ng-pattern="mobilePattern" placeholder={{messages.label.mobileNumberPH}} required/>
                <span ng-show="userForm.mobileNumber2.$touched && userForm.mobileNumber2.$error.required" >
                    {{messages.label.required}}
                </span>
                <span ng-show="userForm.mobileNumber2.$error.maxlength && userForm.mobileNumber2.$invalid" >
                        {{messages.label.mobileError}}        
                                </span>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <label for="emailAddress" class="required">{{messages.label.emailAddress}}</label>
                <input type="email" class="form-control" id="emailAddress" name="emailAddress" ng-model="internalUserDrtvCtrl.user.emailAddress" ng-pattern="emailPattern" placeholder={{messages.label.emailPH}} required/>
                <span ng-show="userForm.emailAddress.$touched && userForm.emailAddress.$error.required" >
                    {{messages.label.required}}
                </span>
                <span ng-show="userForm.emailAddress.$error.email && userForm.emailAddress.$invalid" >
                        {{messages.label.emailError}}
                    </span>
            </div>
            <div class="form-group col-md-6">
                <label for="civilId" class="required">{{messages.label.civilId}}</label>
                <input type="number" class="form-control" id="civilId" name="civilId" ng-model="internalUserDrtvCtrl.user.civilId" ng-maxlength="15" placeholder={{messages.label.civilIDPH}} required/>
                <span ng-show="userForm.civilId.$touched && userForm.civilId.$error.required" >
                    {{messages.label.required}}
                </span>
                <span ng-show="userForm.civilId.$error.maxlength && userForm.civilId.$invalid" >
                        {{messages.label.civilError}}
                    </span>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <label for="loginName" class="required">{{messages.label.loginName}}</label>
                <input type="text" class="form-control" id="loginName" name="loginName" ng-model="internalUserDrtvCtrl.user.loginName" placeholder={{messages.label.logInNamePH}} required/>
                <span ng-show="userForm.loginName.$touched && userForm.loginName.$error.required" >
                    {{messages.label.required}}
                </span>
            </div>
            <div class="form-group col-md-6">
                <label for="role" class="required">{{messages.label.role}}</label>
                <select class="form-control choice requiredField" ng-options="role | localeFltr for role in internalUserDrtvCtrl.roles track by role.code" ng-model="internalUserDrtvCtrl.user.role">
                    <option value="" disabled selected>{{messages.label.selectMessage}}</option>
                </select>
                <span ng-show="userForm.role.$touched && userForm.role.$error.required" >
                    {{messages.label.required}}
                </span>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <label for="organizationUnit" class="required"> {{messages.label.organizationUnit}}</label>
                <select class="form-control choice requiredField" ng-options="organizationUnit | localeFltr for organizationUnit in internalUserDrtvCtrl.organizations track by organizationUnit.arabicName" ng-model="internalUserDrtvCtrl.user.organizationUnit">
                    <option value="" disabled selected>{{messages.label.selectMessage}}</option>
                </select>
                <span ng-show="userForm.organizationUnit.$touched && userForm.organizationUnit.$error.required" >
                    {{messages.label.required}}
                </span> 
            </div>
        </div>
        
     <div class="form-check ">
            <div class="form-check rigth form-check-inline" >
                <label for="isActive" class="form-check-label rigth" >{{messages.label.isActive}}</label>
                <input type="checkbox" class="form-check-input rigth" id="isActive" ng-model="internalUserDrtvCtrl.user.isActive" />
            </div>
        </div>
   
            <div class="btn-group rigth" >
                <div class="btn-group row" ng-if="!internalUserDrtvCtrl.editUser">
                    <div class="col-sm-10">
                        <button ng-click="internalUserDrtvCtrl.add()" class="btn btn-default" ng-disabled="userForm.$invalid" type="submit">{{messages.label.add}}</button>
                    </div>
                </div>
                <div class="btn-group row" ng-if="internalUserDrtvCtrl.editUser">
                    <div class="col-sm-10">
                        <button ng-click="internalUserDrtvCtrl.update()" class="btn btn-default" ng-disabled="userForm.$invalid" type="submit">{{messages.label.update}}</button>
                    </div>
                </div>
                <div class="btn-group row">
                    <div class="col-sm-10">
                        <button ng-click="internalUserDrtvCtrl.reset()" class="btn btn-default">{{messages.label.reset}}</button>
                    </div>
                </div>
                <div class="btn-group row" ng-if="internalUserDrtvCtrl.editUser">
                    <div class="col-sm-10">
                            <button ng-click="internalUserDrtvCtrl.cancel()" class="btn btn-default">{{messages.label.cancel}}</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover text-center"> 
            <thead>
                <tr>
                    <th>
                        {{messages.label.arabicName}}
                    </th>
                    <th>
                        {{messages.label.englishName}}
                    </th>
                    <th>
                        {{messages.label.isActive}}
                    </th>
                    <th>
                        {{messages.label.mobileNumber1}}
                    </th>
                    <th>
                        {{messages.label.mobileNumber2}}
                    </th>
                    <th>
                        {{messages.label.emailAddress}}
                    </th>
                    <th>
                        {{messages.label.civilId}}
                    </th>
                    <th>
                        {{messages.label.loginName}}
                    </th>
                    <th>
                        {{messages.label.role}}
                    </th> 
                    <th>
                        {{messages.label.organizationUnit}}
                    </th> 
                    <th>
                        {{messages.label.edit}}
                    </th>
                    <th>
                        {{messages.label.delete}}
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="u in internalUserDrtvCtrl.users |paginationFltr:internalUserDrtvCtrl.page.start:internalUserDrtvCtrl.page.end track by u.id">
                    <td>
                        {{u.arabicName}}
                    </td>
                    <td>
                        {{u.englishName}}
                    </td>
                    <td>
                        {{u.isActive}}
                    </td>
                    <td>
                        {{u.mobileNumber1}}
                    </td>
                    <td>
                        {{u.mobileNumber2}}
                    </td>
                    <td>
                        {{u.emailAddress}}
                    </td>
                    <td>
                        {{u.civilId}}
                    </td>
                    <td>
                        {{u.loginName}}
                    </td>
                    <td>
                        {{u.role.code}}
                    </td>

                    <td>
                        {{u.organizationUnit.arabicName}}
                    </td>
                    <td>
                        <div>
                            <button class="btn btn-default" ng-click="internalUserDrtvCtrl.edit(u.id)"><span class="glyphicon glyphicon-pencil"></span></button>
                        </div>
                    </td>
                    <td>
                        <div>
                            <button class="btn btn-default" ng-click="internalUserDrtvCtrl.delete(u.id)"><span class="glyphicon glyphicon-trash"></span></button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <td colspan="7">
            <pagination items-size="internalUserDrtvCtrl.users.length" page="internalUserDrtvCtrl.page">
            </pagination>
        </td>
    </div>
</div>